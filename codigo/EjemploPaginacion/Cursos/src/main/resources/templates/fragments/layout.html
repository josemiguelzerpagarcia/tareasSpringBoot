<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">

    <!-- Bootstrap -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>

<!-- CABECERA -->
<div th:fragment="cabecera">
    <nav class="navbar navbar-dark bg-dark mb-3 px-3">
        <a class="navbar-brand" th:href="@{/productos}">Mi Tienda</a>
        <div>
            <a class="nav-link d-inline text-white" th:href="@{/productos}">Listado</a>
            <a class="nav-link d-inline text-white" th:href="@{/formulario}">Nuevo</a>
        </div>
    </nav>
</div>

<!-- PIE -->
<div th:fragment="pie">
    <div class="text-center text-muted mt-4">
        <small>© 2025</small>
    </div>
</div>

<!--- CONTROLES DE PAGINACIÓN de Estudiantes-->
<!--- CONTROLES DE PAGINACIÓN de Estudiantes-->
<div th:fragment="paginacion">
    <ul class="pagination">

        <!-- Inicio -->
        <li th:if="${estudiantes.number > 0}" class="page-item">
            <a th:href="@{/estudiantes(nombre=${nombreBusqueda}, page=0)}"
               class="page-link">Inicio</a>
        </li>

        <!-- Anterior -->
        <li th:if="${estudiantes.hasPrevious()}" class="page-item">
            <a th:href="@{/estudiantes(nombre=${nombreBusqueda},
                                      page=${estudiantes.number-1})}"
               class="page-link">Anterior</a>
        </li>

        <!-- Enlace a la página anterior a la actual, si existe -->
        <li th:if="${estudiantes.number > 1}" class="page-item">
            <a th:href="@{/estudiantes(nombre=${nombreBusqueda},
                                      page=${estudiantes.number-1})}"
               class="page-link" th:text="${estudiantes.number - 1}"></a>
        </li>

        <!-- Enlace a la página actual (activo) -->
        <li class="page-item active">
            <span class="page-link" th:text="${estudiantes.number}"></span>
        </li>

        <!-- Enlace a la página siguiente a la actual, si existe -->
        <li th:if="${estudiantes.number + 1 < estudiantes.totalPages}"
            class="page-item">
            <a th:href="@{/estudiantes(nombre=${nombreBusqueda},
                                      page=${estudiantes.number+1})}"
               class="page-link" th:text="${estudiantes.number + 1}"></a>
        </li>

        <!-- Siguiente -->
        <li th:if="${estudiantes.hasNext()}" class="page-item">
            <a th:href="@{/estudiantes(nombre=${nombreBusqueda},
                                      page=${estudiantes.number+1})}"
               class="page-link">Siguiente</a>
        </li>

        <!-- Fin -->
        <li th:if="${estudiantes.number + 1 < estudiantes.totalPages}"
            class="page-item">
            <a th:href="@{/estudiantes(nombre=${nombreBusqueda},
                                      page=${estudiantes.totalPages-1})}"
               class="page-link">Fin</a>
        </li>

    </ul>
</div>
<!-- fragmentos/buscador.html -->
<div th:fragment="buscador">
    <form action="#" th:action="@{/estudiantes}" method="get" class="d-flex mb-3">
        <!-- Campo de texto (nombre) -->
        <input type="text"
               name="nombre"
               th:value="${nombreBusqueda}"
               placeholder="Buscar por nombre…"
               class="form-control me-2"
               aria-label="Nombre">

        <!-- Botón de búsqueda -->
        <button type="submit" class="btn btn-primary">Buscar</button>
    </form>
</div>
</body>
</html>
